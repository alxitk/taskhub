{% extends 'base.html' %}

{% block title %}<title>Project Board - Taskhub</title>{% endblock %}

{% block content %}
  <div class="mb-4">
    <h1 class="mb-3">{{ task.name }}</h1>
    <span class="badge badge-info">{{ task.status }}</span>
  </div>

  <div class="card p-3">
    <h5>Description</h5>
    <p>{{ task.description|linebreaks }}</p>
  </div>
{% endblock %}

{% block sidebar %}
  <div class="card mb-3 p-3">
    <h5>Task Details</h5>
    <p><strong>Type:</strong> {{ task.task_type }}</p>
    <p><strong>Priority:</strong> {{ task.priority }}</p>
    <p><strong>Deadline:</strong> {{ task.deadline }}</p>
  </div>

  <div class="card mb-3 p-3">
    <h5>Assignees</h5>
    <ul class="pl-3">
      {% for assignee in task.assignees.all %}
        <li>{{ assignee.username }} ({{ assignee.first_name }} {{ assignee.last_name }})</li>
      {% empty %}
        <li>No assignees</li>
      {% endfor %}
    </ul>
  </div>

  <div class="d-flex gap-2">
    <a href="{% url 'tasks:task-delete' pk=task.id %}" class="btn btn-danger w-100">Delete</a>
    <a href="{% url 'tasks:task-update' pk=task.id %}" class="btn btn-secondary w-100">Update</a>
  </div>
{% endblock %}